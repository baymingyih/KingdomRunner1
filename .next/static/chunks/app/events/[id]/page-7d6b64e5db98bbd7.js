(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[336],{3434:(e,t,s)=>{Promise.resolve().then(s.bind(s,6132))},3196:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>d,Z:()=>c});var r=s(5155),a=s(2115),i=s(4565),n=s(9891);let l=(0,a.createContext)({user:null,loading:!0});function d(e){let{children:t}=e,[s,d]=(0,a.useState)(null),[c,o]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{var e;let t=(e=e=>{d(e),o(!1)},(0,i.hg)(n.j,e));return()=>t()},[]),(0,r.jsx)(l.Provider,{value:{user:s,loading:c},children:t})}function c(){return(0,a.useContext)(l)}},6132:(e,t,s)=>{"use strict";s.d(t,{default:()=>ea});var r=s(5155),a=s(2115),i=s(5007),n=s(8629),l=s(9602);let d=n.bL,c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.B8,{ref:t,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...a})});c.displayName=n.B8.displayName;let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.l9,{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...a})});o.displayName=n.l9.displayName;let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.UC,{ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a})});u.displayName=n.UC.displayName;var m=s(3562),x=s(4247),p=s(2341);let h=a.forwardRef((e,t)=>{let{className:s,children:a,...i}=e;return(0,r.jsxs)(p.bL,{ref:t,className:(0,l.cn)("relative overflow-hidden",s),...i,children:[(0,r.jsx)(p.LM,{className:"h-full w-full rounded-[inherit]",children:a}),(0,r.jsx)(g,{}),(0,r.jsx)(p.OK,{})]})});h.displayName=p.bL.displayName;let g=a.forwardRef((e,t)=>{let{className:s,orientation:a="vertical",...i}=e;return(0,r.jsx)(p.VM,{ref:t,orientation:a,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...i,children:(0,r.jsx)(p.lr,{className:"relative flex-1 rounded-full bg-border"})})});function f(e){let{leaderboard:t}=e,s={US:"\uD83C\uDDFA\uD83C\uDDF8",CN:"\uD83C\uDDE8\uD83C\uDDF3",ES:"\uD83C\uDDEA\uD83C\uDDF8"};return(0,r.jsx)(h,{className:"h-[500px]",children:(0,r.jsx)("div",{className:"rounded-md border",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b bg-muted/50",children:[(0,r.jsx)("th",{className:"p-4 text-left",children:"Rank"}),(0,r.jsx)("th",{className:"p-4 text-left",children:"Runner"}),(0,r.jsx)("th",{className:"p-4 text-left",children:"Country"}),(0,r.jsx)("th",{className:"p-4 text-left",children:"Distance"}),(0,r.jsx)("th",{className:"p-4 text-left",children:"Prayers"})]})}),(0,r.jsx)("tbody",{children:t.map((e,t)=>(0,r.jsxs)("tr",{className:"border-b",children:[(0,r.jsx)("td",{className:"p-4",children:t+1}),(0,r.jsx)("td",{className:"p-4",children:e.name}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsxs)("span",{className:"inline-flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xl",children:s[e.country]}),e.country]})}),(0,r.jsxs)("td",{className:"p-4",children:[e.distance,"km"]}),(0,r.jsx)("td",{className:"p-4",children:e.prayers})]},e.id))})]})})})}function j(e){let{prayerGuide:t}=e;return(0,r.jsx)(h,{className:"h-[500px] pr-4",children:t.map((e,t)=>(0,r.jsxs)(i.Zp,{className:"mb-4",children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)(i.ZB,{className:"text-lg",children:["Day ",e.day,": ",e.title]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.verse})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)("p",{children:e.prayer})})]},t))})}g.displayName=p.VM.displayName;var v=s(4085);function y(e){let{prayers:t}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)(h,{className:"h-[500px] pr-4",children:t.map(e=>(0,r.jsxs)(i.Zp,{className:"mb-4",children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{className:"text-lg",children:e.runner}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(e.timestamp).toLocaleString()})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)("p",{children:e.content})})]},e.id))}),(0,r.jsx)(v.$,{className:"w-full mt-4",children:"Share Your Prayer"})]})}var N=s(3196),b=s(9134),w=s(7058),E=s(9891),I=s(333);class S extends Error{constructor(e,t){super(e),this.code=t,this.name="StorageError"}}async function A(e,t,s){if(!e)throw new S("No file provided","missing-file");if(!["image/jpeg","image/png","image/webp"].includes(e.type))throw new S("Invalid file type. Only JPEG, PNG and WebP are allowed","invalid-type");if(e.size>5242880)throw new S("File too large. Maximum size is 5MB","file-too-large");try{let r=Date.now(),a="".concat(r,"-").concat(e.name.replace(/[^a-zA-Z0-9.-]/g,"_")),i=(0,I.KR)(E.storage,"activities/".concat(t,"/").concat(s,"/").concat(a)),n={contentType:e.type,customMetadata:{uploadedAt:new Date().toISOString(),uploadedBy:t}},l=await (0,I.D)(i,e,n);return await (0,I.qk)(l.ref)}catch(e){if(console.error("Error uploading image:",e),"storage/unauthorized"===e.code)throw new S("Unauthorized. Please check if you are logged in.","unauthorized");if("storage/canceled"===e.code)throw new S("Upload canceled","upload-canceled");if("storage/unknown"===e.code)throw new S("An unknown error occurred. Please try again.","unknown");throw new S("Failed to upload image",e.code)}}var D=s(9749);async function _(e){try{let t;if(e.image instanceof File){let s=(0,D.A)();t=await A(e.image,e.userId,s)}let s=(await (0,w.x7)((0,w.H9)(E.db,"users",e.userId))).data(),r=null==s?void 0:s.avatar,a=null==s?void 0:s.name,i={userId:e.userId,eventId:e.eventId,distance:parseFloat(e.distance),duration:parseFloat(e.duration),location:e.location,timestamp:w.Dc.now(),userAvatar:r,userName:a};return e.notes&&(i.notes=e.notes),t&&(i.imageUrl=t),{id:(await (0,w.gS)((0,w.rJ)(E.db,"activities"),i)).id,...i,timestamp:new Date}}catch(e){throw console.error("Error logging activity:",e),Error("Failed to log activity")}}async function R(e){try{let t=(0,w.rJ)(E.db,"activities"),s=(0,w.P)(t,(0,w._M)("userId","==",e),(0,w.My)("timestamp","desc"));return(await (0,w.GG)(s)).docs.map(e=>({id:e.id,...e.data(),timestamp:e.data().timestamp.toDate()}))}catch(e){throw console.error("Error getting user activities:",e),Error("Failed to load activities")}}var P=s(4505);function B(){return(0,r.jsx)("div",{className:"flex justify-center items-center h-[200px]",children:(0,r.jsx)(P.A,{className:"h-8 w-8 animate-spin"})})}function T(e){let{error:t}=e;return(0,r.jsxs)("div",{className:"rounded-lg bg-destructive/10 p-4 text-destructive",children:[(0,r.jsx)("p",{className:"font-medium",children:"Failed to load progress"}),(0,r.jsx)("p",{className:"text-sm mt-1",children:t.message})]})}var k=s(6838);let C=a.forwardRef((e,t)=>{let{className:s,value:a,...i}=e;return(0,r.jsx)(k.bL,{ref:t,className:(0,l.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...i,children:(0,r.jsx)(k.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});function M(e){let{stats:t}=e,s=t.totalDistance/t.targetDistance*100,a=t.totalActivities/t.targetActivities*100;return(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{children:"Distance Progress"})}),(0,r.jsxs)(i.Wu,{children:[(0,r.jsx)(C,{value:s,className:"mb-2"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[t.totalDistance.toFixed(1)," km of ",t.targetDistance," km"]})]})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{children:"Activities Completed"})}),(0,r.jsxs)(i.Wu,{children:[(0,r.jsx)(C,{value:a,className:"mb-2"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[t.totalActivities," of ",t.targetActivities," activities"]})]})]})]})}C.displayName=k.bL.displayName;var L=s(9606),F=s(2679),O=s(4839),U=s(2336),z=s(371),Z=s(767),G=s(3415);let J=["image/jpeg","image/png","image/webp"],W=G.Ik({distance:G.Yj().min(1,"Distance is required").transform(e=>parseFloat(e)).refine(e=>e>0,"Distance must be greater than 0"),duration:G.Yj().min(1,"Duration is required").transform(e=>parseInt(e)).refine(e=>e>0,"Duration must be greater than 0"),location:G.Yj().min(1,"Location is required").max(100,"Location must be less than 100 characters"),notes:G.Yj().max(500,"Notes must be less than 500 characters").optional(),image:G.Nl(File).refine(e=>(null==e?void 0:e.size)<=5242880,"Max file size is 5MB").refine(e=>J.includes(null==e?void 0:e.type),"Only .jpg, .png and .webp formats are supported").optional()});function V(e){let{onSubmit:t,submitting:s}=e,a=(0,L.mN)({resolver:(0,F.u)(W),defaultValues:{distance:"",duration:"",location:"",notes:"",image:void 0}});return(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{children:"Log Activity"})}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)(O.lV,{...a,children:(0,r.jsxs)("form",{onSubmit:a.handleSubmit(t),className:"space-y-4",children:[(0,r.jsx)(O.zB,{name:"distance",render:e=>{let{field:t}=e;return(0,r.jsxs)(O.eI,{children:[(0,r.jsx)(O.lR,{children:"Distance (km)"}),(0,r.jsx)(O.MJ,{children:(0,r.jsx)(U.p,{type:"number",step:"0.01",placeholder:"5.0",disabled:s,...t})}),(0,r.jsx)(O.C5,{})]})}}),(0,r.jsx)(O.zB,{name:"duration",render:e=>{let{field:t}=e;return(0,r.jsxs)(O.eI,{children:[(0,r.jsx)(O.lR,{children:"Duration (minutes)"}),(0,r.jsx)(O.MJ,{children:(0,r.jsx)(U.p,{type:"number",placeholder:"30",disabled:s,...t})}),(0,r.jsx)(O.C5,{})]})}}),(0,r.jsx)(O.zB,{name:"location",render:e=>{let{field:t}=e;return(0,r.jsxs)(O.eI,{children:[(0,r.jsx)(O.lR,{children:"Location"}),(0,r.jsx)(O.MJ,{children:(0,r.jsx)(U.p,{placeholder:"Where did you run?",disabled:s,...t})}),(0,r.jsx)(O.C5,{})]})}}),(0,r.jsx)(O.zB,{name:"notes",render:e=>{let{field:t}=e;return(0,r.jsxs)(O.eI,{children:[(0,r.jsx)(O.lR,{children:"Notes (optional)"}),(0,r.jsx)(O.MJ,{children:(0,r.jsx)(z.T,{placeholder:"Share your experience...",disabled:s,...t})}),(0,r.jsx)(O.C5,{})]})}}),(0,r.jsx)(O.zB,{name:"image",render:e=>{let{field:{value:t,onChange:a,...i}}=e;return(0,r.jsxs)(O.eI,{children:[(0,r.jsx)(O.lR,{children:"Activity Image (optional)"}),(0,r.jsx)(O.MJ,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(U.p,{type:"file",accept:"image/jpeg,image/png,image/webp",disabled:s,onChange:e=>{var t;a(null===(t=e.target.files)||void 0===t?void 0:t[0])},...i}),t&&(0,r.jsx)(v.$,{type:"button",onClick:()=>a(void 0),children:(0,r.jsx)(Z.A,{className:"h-4 w-4"})})]}),t&&(0,r.jsx)("div",{className:"relative aspect-video w-full max-w-sm overflow-hidden rounded-lg border",children:(0,r.jsx)("img",{src:URL.createObjectURL(t),alt:"Activity preview",className:"h-full w-full object-cover"})})]})}),(0,r.jsx)(O.C5,{})]})}}),(0,r.jsx)(v.$,{type:"submit",className:"w-full",disabled:s,children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging Activity..."]}):"Log Activity"})]})})})]})}function X(e){let{eventId:t}=e,[s,i]=(0,a.useState)(!1),{user:n}=(0,N.Z)(),{toast:l}=(0,b.dj)(),{loading:d,error:c,activities:o,stats:u,updateActivities:m}=function(e){let[t,s]=(0,a.useState)(!0),[r,i]=(0,a.useState)(null),[n,l]=(0,a.useState)([]),[d,c]=(0,a.useState)({totalDistance:0,targetDistance:42.2,totalActivities:0,targetActivities:21}),{toast:o}=(0,b.dj)(),u=(0,a.useCallback)(e=>({totalDistance:e.reduce((e,t)=>e+t.distance,0),targetDistance:42.2,totalActivities:e.length,targetActivities:21}),[]),m=(0,a.useCallback)(e=>{let t=[e,...n];l(t),c(u(t))},[n,u]);return(0,a.useEffect)(()=>{(async function(){if(!e){s(!1);return}try{let t=await R(e);l(t),c(u(t))}catch(e){console.error("Error loading activities:",e),i(e instanceof Error?e:Error("Failed to load activities")),o({title:"Error loading activities",description:"Please try refreshing the page",variant:"destructive"})}finally{s(!1)}})()},[e,o,u]),{loading:t,error:r,activities:n,stats:d,updateActivities:m}}(null==n?void 0:n.uid),x=async e=>{if(n){i(!0);try{let s=await _({userId:n.uid,eventId:t.toString(),distance:e.distance.toString(),duration:e.duration.toString(),location:e.location,notes:e.notes,image:e.image});m(s),l({title:"Activity logged successfully!",description:"Your run has been recorded."})}catch(e){console.error("Error logging activity:",e),l({title:"Error logging activity",description:e instanceof Error?e.message:"Please try again later.",variant:"destructive"})}finally{i(!1)}}};return n?d?(0,r.jsx)(B,{}):c?(0,r.jsx)(T,{error:c}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(M,{stats:u}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsx)(V,{onSubmit:x,submitting:s}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Recent Activities"}),0===o.length?(0,r.jsx)("p",{className:"text-muted-foreground",children:"No activities recorded yet."}):(0,r.jsx)("div",{className:"space-y-4",children:o.map(e=>(0,r.jsxs)("div",{className:"p-4 rounded-lg bg-muted",children:[(0,r.jsxs)("p",{className:"font-medium",children:[e.distance.toFixed(1)," km"]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.location}),e.notes&&(0,r.jsx)("p",{className:"text-sm mt-2",children:e.notes})]},e.id))})]})]})]}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"Please sign in to track your progress"}),(0,r.jsx)(v.$,{className:"mt-4",children:(0,r.jsx)("a",{href:"/login",children:"Sign In"})})]})}var K=s(5565);let Y=(0,s(1027).F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)(Y({variant:s}),t),...a})}var H=s(2423),q=s(2823),Q=s(6889);function ee(e){let{event:t}=e,s=new Date(t.startDate),a=new Date(t.endDate),i=new Date>=s&&new Date<=a,n=new Date<s;return(0,r.jsxs)("div",{className:"relative w-full h-[500px] rounded-xl overflow-hidden mb-8",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/60 z-10"}),(0,r.jsx)(K.default,{src:t.image,alt:t.name,fill:!0,className:"object-cover",priority:!0}),(0,r.jsxs)("div",{className:"absolute inset-0 z-20 flex flex-col justify-center items-center text-white p-8",children:[(0,r.jsx)(m.P.h1,{className:"text-4xl md:text-5xl font-bold text-center mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:t.name}),(0,r.jsxs)(m.P.div,{className:"flex flex-wrap justify-center gap-4 mb-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:[(0,r.jsxs)($,{variant:"secondary",className:"text-lg py-1.5",children:[(0,r.jsx)(H.A,{className:"w-4 h-4 mr-2"}),s.toLocaleDateString("en-GB")," - ",a.toLocaleDateString("en-GB")]}),(0,r.jsxs)($,{variant:"secondary",className:"text-lg py-1.5",children:[(0,r.jsx)(q.A,{className:"w-4 h-4 mr-2"}),t.participants," Participants"]}),i&&(0,r.jsxs)($,{variant:"secondary",className:"text-lg py-1.5 bg-green-500/10 text-green-500",children:[(0,r.jsx)(Q.A,{className:"w-4 h-4 mr-2"}),"Event in Progress"]}),n&&(0,r.jsxs)($,{variant:"secondary",className:"text-lg py-1.5",children:[(0,r.jsx)(Q.A,{className:"w-4 h-4 mr-2"}),"Upcoming Event"]})]}),(0,r.jsxs)(m.P.div,{className:"flex gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[(0,r.jsx)(v.$,{className:"bg-primary hover:bg-primary/90",children:"Register Now"}),(0,r.jsx)(v.$,{className:"bg-white/10 hover:bg-white/20",children:"Share Event"})]})]})]})}var et=s(7223);function es(e){let{event:t}=e;return(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-4",children:"About this Event"}),(0,r.jsx)("p",{className:"text-lg leading-relaxed text-muted-foreground",children:t.description})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold",children:"Event Details"}),(0,r.jsxs)("div",{className:"grid gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(H.A,{className:"w-5 h-5 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Duration"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[Math.ceil((new Date(t.endDate).getTime()-new Date(t.startDate).getTime())/864e5)," days"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(et.A,{className:"w-5 h-5 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Location"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Virtual Event - Run Anywhere"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(q.A,{className:"w-5 h-5 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Community"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Join ",t.participants," runners from around the world"]})]})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-4",children:"Event Prayer Guide"}),(0,r.jsx)(h,{className:"h-[400px] pr-4",children:(0,r.jsx)("div",{className:"grid gap-4",children:t.prayerGuide.map((e,t)=>(0,r.jsxs)(i.Zp,{className:"hover:shadow-md transition-shadow",children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)(i.ZB,{className:"text-lg",children:["Day ",e.day,": ",e.title]}),(0,r.jsx)("p",{className:"text-sm italic text-muted-foreground",children:e.verse})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)("p",{className:"leading-relaxed",children:e.prayer})})]},t))})})]})]})}let er={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}};function ea(e){let{event:t}=e,[s,n]=(0,a.useState)("overview"),{user:l}=(0,N.Z)();return(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)(m.P.div,{initial:{opacity:0},animate:{opacity:1},className:"relative",children:[(0,r.jsx)(ee,{event:t}),(0,r.jsx)(i.Zp,{className:"mb-8",children:(0,r.jsx)(i.Wu,{className:"p-6",children:(0,r.jsxs)(d,{value:s,onValueChange:n,className:"space-y-6",children:[(0,r.jsxs)(c,{className:"grid grid-cols-2 md:grid-cols-5 gap-4 bg-transparent",children:[(0,r.jsx)(o,{value:"overview",children:"Overview"}),(0,r.jsx)(o,{value:"prayer-guide",children:"Prayer Guide"}),(0,r.jsx)(o,{value:"leaderboard",children:"Leaderboard"}),(0,r.jsx)(o,{value:"prayers",children:"Prayers"}),l&&(0,r.jsx)(o,{value:"my-progress",children:"My Progress"})]}),(0,r.jsx)(x.N,{mode:"wait",children:(0,r.jsxs)(m.P.div,{initial:"initial",animate:"animate",exit:"exit",variants:er,transition:{duration:.3},children:[(0,r.jsx)(u,{value:"overview",children:(0,r.jsx)(es,{event:t})}),(0,r.jsx)(u,{value:"prayer-guide",children:(0,r.jsx)(j,{prayerGuide:t.prayerGuide})}),(0,r.jsx)(u,{value:"leaderboard",children:(0,r.jsx)(f,{leaderboard:t.leaderboard})}),(0,r.jsx)(u,{value:"prayers",children:(0,r.jsx)(y,{prayers:t.prayers})}),l&&(0,r.jsx)(u,{value:"my-progress",children:(0,r.jsx)(X,{eventId:t.id})})]},s)})]})})})]})})}},4085:(e,t,s)=>{"use strict";s.d(t,{$:()=>a});var r=s(5155);s(2115);let a=e=>{let{children:t,...s}=e;return(0,r.jsx)("button",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2",...s,children:t})}},5007:(e,t,s)=>{"use strict";s.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>n,Zp:()=>a,aR:()=>i});var r=s(5155);s(2115);let a=e=>{let{children:t,className:s,...a}=e;return(0,r.jsx)("div",{className:"rounded-md border shadow-sm ".concat(s),...a,children:t})},i=e=>{let{children:t,className:s,...a}=e;return(0,r.jsx)("div",{className:"px-4 py-3 border-b font-semibold ".concat(s),...a,children:t})},n=e=>{let{className:t,...s}=e;return(0,r.jsx)("h3",{className:"text-lg font-semibold ".concat(t),...s})},l=e=>{let{className:t,...s}=e;return(0,r.jsx)("p",{className:"text-sm text-muted-foreground ".concat(t),...s})},d=e=>{let{children:t,className:s,...a}=e;return(0,r.jsx)("div",{className:"p-4 ".concat(s),...a,children:t})}},4839:(e,t,s)=>{"use strict";s.d(t,{C5:()=>d.C,MJ:()=>l.M,eI:()=>i.e,lR:()=>n.l,lV:()=>c,zB:()=>a.z});var r=s(5155);s(2115);var a=s(1563),i=s(9564),n=s(4213),l=s(1100),d=s(2318);let c=e=>{let{children:t,onSubmit:s}=e;return(0,r.jsx)("form",{onSubmit:s,children:t})}},1100:(e,t,s)=>{"use strict";s.d(t,{M:()=>a});var r=s(5155);s(2115);let a=e=>{let{children:t,className:s}=e;return(0,r.jsx)("div",{className:s,children:t})}},1563:(e,t,s)=>{"use strict";s.d(t,{z:()=>d});var r=s(5155);s(2115);var a=s(5785),i=s(1100),n=s(2318),l=s(9606);let d=e=>{let{name:t,label:s,render:d}=e,{control:c}=(0,l.xW)();return(0,r.jsx)(l.xI,{name:t,control:c,render:e=>{var t;let{field:l,fieldState:c}=e;return(0,r.jsxs)("div",{children:[s&&(0,r.jsx)(a.J,{children:s}),(0,r.jsx)(i.M,{children:d({field:l})}),(0,r.jsx)(n.C,{children:null===(t=c.error)||void 0===t?void 0:t.message})]})}})}},9564:(e,t,s)=>{"use strict";s.d(t,{e:()=>a});var r=s(5155);s(2115);let a=e=>{let{children:t,className:s}=e;return(0,r.jsx)("div",{className:s,children:t})}},4213:(e,t,s)=>{"use strict";s.d(t,{l:()=>i});var r=s(5155);s(2115);var a=s(5785);let i=e=>{let{children:t,...s}=e;return(0,r.jsx)(a.J,{...s,children:t})}},2318:(e,t,s)=>{"use strict";s.d(t,{C:()=>i});var r=s(5155);s(2115);var a=s(9606);let i=e=>{var t;let{name:s,children:i,className:n}=e,{formState:{errors:l}}=(0,a.xW)(),d=s&&(null===(t=l[s])||void 0===t?void 0:t.message),c=d?String(d):i;return(0,r.jsx)("p",{className:n,children:c})}},2336:(e,t,s)=>{"use strict";s.d(t,{p:()=>a});var r=s(5155);let a=s(2115).forwardRef((e,t)=>{let{className:s,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",ref:t,...i})});a.displayName="Input"},5785:(e,t,s)=>{"use strict";s.d(t,{J:()=>c});var r=s(5155),a=s(2115),i=s(6195),n=s(1027),l=s(9602);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(i.b,{ref:t,className:(0,l.cn)(d(),s),...a})});c.displayName=i.b.displayName},371:(e,t,s)=>{"use strict";s.d(t,{T:()=>a});var r=s(5155);let a=s(2115).forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",ref:t,...a})});a.displayName="Textarea"},9134:(e,t,s)=>{"use strict";s.d(t,{dj:()=>m});var r=s(2115);let a=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],c={toasts:[]};function o(e){c=l(c,e),d.forEach(e=>{e(c)})}function u(e){let{...t}=e,s=(a=(a+1)%Number.MAX_VALUE).toString(),r=()=>o({type:"DISMISS_TOAST",toastId:s});return o({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=r.useState(c);return r.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},9911:(e,t,s)=>{"use strict";s.d(t,{C:()=>i});var r=s(2818);let a={apiKey:"AIzaSyCopx5Hk7QK3JkyrVU9IWYJuERPn7vH43E",projectId:"kingdomrunnersdv1",storageBucket:"kingdomrunnersdv1.firebasestorage.app",messagingSenderId:"626559745548",appId:"1:626559745548:web:3e2f5d7498f7e3beb1f829",measurementId:"G-0G8N8DZWHW"},i={apiKey:r.env.NEXT_PUBLIC_FIREBASE_API_KEY||a.apiKey,authDomain:r.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN||"krstaging.netlify.app",projectId:r.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID||a.projectId,storageBucket:r.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET||a.storageBucket,messagingSenderId:r.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||a.messagingSenderId,appId:r.env.NEXT_PUBLIC_FIREBASE_APP_ID||a.appId,measurementId:r.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID||a.measurementId}},9891:(e,t,s)=>{"use strict";s.d(t,{db:()=>o,j:()=>c,storage:()=>u,y:()=>d});var r=s(9904),a=s(7058),i=s(4565),n=s(333),l=s(9911);let d=0===(0,r.Dk)().length?(0,r.Wp)(l.C):(0,r.Dk)()[0],c=(0,i.xI)(d),o=(0,a.aU)(d),u=(0,n.c7)(d);(0,i.oM)(c,i.F0).catch(e=>{console.error("Error setting auth persistence:",e)}),(0,a.ol)(o).catch(e=>{"failed-precondition"===e.code?console.warn("Multiple tabs open, persistence enabled in first tab only"):"unimplemented"===e.code&&console.warn("Browser does not support persistence")})},9602:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var r=s(3463),a=s(9795);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,794,575,525,376,942,970,411,111,441,517,358],()=>t(3434)),_N_E=e.O()}]);