(()=>{var e={};e.id=454,e.ids=[454],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},14985:e=>{"use strict";e.exports=require("dns")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},73496:e=>{"use strict";e.exports=require("http2")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},19771:e=>{"use strict";e.exports=require("process")},27910:e=>{"use strict";e.exports=require("stream")},41204:e=>{"use strict";e.exports=require("string_decoder")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},34589:e=>{"use strict";e.exports=require("node:assert")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},4573:e=>{"use strict";e.exports=require("node:buffer")},37540:e=>{"use strict";e.exports=require("node:console")},77598:e=>{"use strict";e.exports=require("node:crypto")},53053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},78474:e=>{"use strict";e.exports=require("node:events")},37067:e=>{"use strict";e.exports=require("node:http")},32467:e=>{"use strict";e.exports=require("node:http2")},77030:e=>{"use strict";e.exports=require("node:net")},643:e=>{"use strict";e.exports=require("node:perf_hooks")},41792:e=>{"use strict";e.exports=require("node:querystring")},57075:e=>{"use strict";e.exports=require("node:stream")},41692:e=>{"use strict";e.exports=require("node:tls")},73136:e=>{"use strict";e.exports=require("node:url")},57975:e=>{"use strict";e.exports=require("node:util")},73429:e=>{"use strict";e.exports=require("node:util/types")},75919:e=>{"use strict";e.exports=require("node:worker_threads")},38522:e=>{"use strict";e.exports=require("node:zlib")},95595:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=t(70260),a=t(28203),i=t(25155),o=t.n(i),n=t(67292),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let d=["",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,17358)),"/Users/bay/Desktop/project/KR1/app/register/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,19097)),"/Users/bay/Desktop/project/KR1/app/register/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,19611)),"/Users/bay/Desktop/project/KR1/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/Users/bay/Desktop/project/KR1/app/register/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/register/page",pathname:"/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},59558:(e,r,t)=>{Promise.resolve().then(t.bind(t,19097))},6913:(e,r,t)=>{Promise.resolve().then(t.bind(t,20157))},56421:(e,r,t)=>{Promise.resolve().then(t.bind(t,17358))},92869:(e,r,t)=>{Promise.resolve().then(t.bind(t,94686))},20157:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(45512);let a=(0,t(81615).L)(function({children:e}){return(0,s.jsx)("div",{className:"min-h-screen bg-background",children:e})})},94686:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>C});var s=t(45512),a=t(58009),i=t(6868),o=t(81914),n=t(87021),l=t(94727),d=t(97643),c=t(65518),u=t(69434),m=t(52009),p=t(81756),x=t(19923),f=t(25409);function h({form:e,disabled:r}){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.z,{name:"email",render:({field:e})=>(0,s.jsxs)(p.e,{children:[(0,s.jsx)(x.l,{children:"Email"}),(0,s.jsx)(u.M,{children:(0,s.jsx)(f.p,{...e,type:"email",placeholder:"your@email.com",disabled:r})})]})}),(0,s.jsx)(m.z,{name:"confirmEmail",render:({field:e})=>(0,s.jsxs)(p.e,{children:[(0,s.jsx)(x.l,{children:"Confirm Email"}),(0,s.jsx)(u.M,{children:(0,s.jsx)(f.p,{...e,type:"email",placeholder:"Confirm your email",disabled:r})})]})}),(0,s.jsx)(m.z,{name:"password",render:({field:e})=>(0,s.jsxs)(p.e,{children:[(0,s.jsx)(x.l,{children:"Password"}),(0,s.jsx)(u.M,{children:(0,s.jsx)(f.p,{...e,type:"password",placeholder:"••••••••",disabled:r})})]})}),(0,s.jsx)(m.z,{name:"confirmPassword",render:({field:e})=>(0,s.jsxs)(p.e,{children:[(0,s.jsx)(x.l,{children:"Confirm Password"}),(0,s.jsx)(u.M,{children:(0,s.jsx)(f.p,{...e,type:"password",placeholder:"••••••••",disabled:r})})]})})]})}var j=t(83516);function g({form:e,disabled:r}){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.z,{name:"firstName",render:({field:e})=>(0,s.jsxs)(p.e,{children:[(0,s.jsx)(x.l,{children:"First Name"}),(0,s.jsx)(u.M,{children:(0,s.jsx)(f.p,{...e,placeholder:"John",disabled:r})}),(0,s.jsx)(j.C,{})]})}),(0,s.jsx)(m.z,{name:"lastName",render:({field:e})=>(0,s.jsxs)(p.e,{children:[(0,s.jsx)(x.l,{children:"Last Name"}),(0,s.jsx)(u.M,{children:(0,s.jsx)(f.p,{...e,placeholder:"Doe",disabled:r})}),(0,s.jsx)(j.C,{})]})})]})}var b=t(22571);let v=["United States","United Kingdom","Canada","Australia","Germany","France","Spain","Italy","Japan","China","India","Brazil"];function y({form:e,disabled:r}){return(0,s.jsx)(i.xI,{control:e.control,name:"country",render:({field:t})=>(0,s.jsxs)(p.e,{children:[(0,s.jsx)(x.l,{children:"Country"}),(0,s.jsxs)(b.l6,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,s.jsx)(u.M,{children:(0,s.jsx)(b.bq,{disabled:r,children:(0,s.jsx)(b.yv,{placeholder:"Select your country"})})}),(0,s.jsx)(b.gC,{children:v.map(e=>(0,s.jsx)(b.eb,{value:e,children:e},e))})]}),(0,s.jsx)(j.C,{children:e.formState.errors.country?.message})]})})}var w=t(16131);w.Ik({email:w.Yj().email("Invalid email address"),confirmEmail:w.Yj().email("Invalid email address"),password:w.Yj().min(6,"Password must be at least 6 characters"),confirmPassword:w.Yj().min(6,"Password must be at least 6 characters")}).refine(e=>e.email===e.confirmEmail,{message:"Emails don't match",path:["confirmEmail"]}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),w.Ik({firstName:w.Yj().min(2,"First name must be at least 2 characters"),lastName:w.Yj().min(2,"Last name must be at least 2 characters")}),w.Ik({country:w.Yj().min(1,"Please select your country")});let N=w.Ik({email:w.Yj().email("Invalid email address"),confirmEmail:w.Yj().email("Invalid email address"),password:w.Yj().min(6,"Password must be at least 6 characters"),confirmPassword:w.Yj().min(6,"Password must be at least 6 characters"),firstName:w.Yj().min(2,"First name must be at least 2 characters"),lastName:w.Yj().min(2,"Last name must be at least 2 characters"),country:w.Yj().min(1,"Please select your country")}).refine(e=>e.email===e.confirmEmail,{message:"Emails don't match",path:["confirmEmail"]}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});var q=t(84906),P=t(61402),k=t(79334);function C(){let[e,r]=(0,a.useState)(1),[t,u]=(0,a.useState)(!1),{toast:m}=(0,c.dj)(),p=(0,k.useRouter)(),x=(0,i.mN)({resolver:(0,o.u)(N),defaultValues:{email:"",confirmEmail:"",firstName:"",lastName:"",country:"",password:"",confirmPassword:""},mode:"onChange"}),f=async()=>{let r=!1;try{return 1===e?(await x.trigger(["email","confirmEmail","password","confirmPassword"]),r=!x.formState.errors.email&&!x.formState.errors.confirmEmail&&!x.formState.errors.password&&!x.formState.errors.confirmPassword):2===e?(await x.trigger(["firstName","lastName"]),r=!x.formState.errors.firstName&&!x.formState.errors.lastName):3===e&&(await x.trigger(["country"]),r=!x.formState.errors.country),r}catch(e){return console.error("Validation error:",e),!1}},j=async t=>{if(e<3){await f()&&r(e+1);return}if(await f()){u(!0);try{let e={uid:(await (0,P.WI)(t.email,t.password)).uid,email:t.email,firstName:t.firstName,lastName:t.lastName,country:t.country};await (0,q.k)(e),m({title:"Registration Successful!",description:"Welcome to Kingdom Runners! You can now log in to your account."}),x.reset(),p.push("/login")}catch(e){m({title:"Registration Failed",description:e instanceof Error?e.message:"Please try again later.",variant:"destructive"})}finally{u(!1)}}},b=async()=>{await f()&&r(e+1)};return(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)(d.Zp,{className:"max-w-xl mx-auto",children:[(0,s.jsx)(d.aR,{children:(0,s.jsx)(d.ZB,{className:"text-2xl text-center",children:"Join Kingdom Runners"})}),(0,s.jsx)(d.Wu,{children:(0,s.jsx)(l.lV,{...x,onSubmit:x.handleSubmit(j),children:(0,s.jsxs)("div",{className:"space-y-6",children:[1===e&&(0,s.jsx)(h,{form:x}),2===e&&(0,s.jsx)(g,{form:x}),3===e&&(0,s.jsx)(y,{form:x}),(0,s.jsxs)("div",{className:"flex justify-between",children:[e>1&&(0,s.jsx)(n.$,{type:"button",onClick:()=>r(e-1),disabled:t,children:"Previous"}),e<3?(0,s.jsx)(n.$,{type:"button",onClick:b,disabled:t,children:"Next"}):(0,s.jsx)(n.$,{type:"submit",disabled:t,children:t?"Processing...":"Complete Registration"})]})]})})})]})})}},97643:(e,r,t)=>{"use strict";t.d(r,{BT:()=>n,Wu:()=>l,ZB:()=>o,Zp:()=>a,aR:()=>i});var s=t(45512);t(58009);let a=({children:e,className:r,...t})=>(0,s.jsx)("div",{className:`rounded-md border shadow-sm ${r}`,...t,children:e}),i=({children:e,className:r,...t})=>(0,s.jsx)("div",{className:`px-4 py-3 border-b font-semibold ${r}`,...t,children:e}),o=({className:e,...r})=>(0,s.jsx)("h3",{className:`text-lg font-semibold ${e}`,...r}),n=({className:e,...r})=>(0,s.jsx)("p",{className:`text-sm text-muted-foreground ${e}`,...r}),l=({children:e,className:r,...t})=>(0,s.jsx)("div",{className:`p-4 ${r}`,...t,children:e})},94727:(e,r,t)=>{"use strict";t.d(r,{C5:()=>l.C,MJ:()=>n.M,eI:()=>i.e,lR:()=>o.l,lV:()=>d,zB:()=>a.z});var s=t(45512);t(58009);var a=t(52009),i=t(81756),o=t(19923),n=t(69434),l=t(83516);let d=({children:e,onSubmit:r})=>(0,s.jsx)("form",{onSubmit:r,children:e})},69434:(e,r,t)=>{"use strict";t.d(r,{M:()=>a});var s=t(45512);t(58009);let a=({children:e,className:r})=>(0,s.jsx)("div",{className:r,children:e})},52009:(e,r,t)=>{"use strict";t.d(r,{z:()=>l});var s=t(45512);t(58009);var a=t(47699),i=t(69434),o=t(83516),n=t(6868);let l=({name:e,label:r,render:t})=>{let{control:l}=(0,n.xW)();return(0,s.jsx)(n.xI,{name:e,control:l,render:({field:e,fieldState:n})=>(0,s.jsxs)("div",{children:[r&&(0,s.jsx)(a.J,{children:r}),(0,s.jsx)(i.M,{children:t({field:e})}),(0,s.jsx)(o.C,{children:n.error?.message})]})})}},81756:(e,r,t)=>{"use strict";t.d(r,{e:()=>a});var s=t(45512);t(58009);let a=({children:e,className:r})=>(0,s.jsx)("div",{className:r,children:e})},19923:(e,r,t)=>{"use strict";t.d(r,{l:()=>i});var s=t(45512);t(58009);var a=t(47699);let i=({children:e,...r})=>(0,s.jsx)(a.J,{...r,children:e})},83516:(e,r,t)=>{"use strict";t.d(r,{C:()=>i});var s=t(45512);t(58009);var a=t(6868);let i=({name:e,children:r,className:t})=>{let{formState:{errors:i}}=(0,a.xW)(),o=e&&i[e]?.message,n=o?String(o):r;return(0,s.jsx)("p",{className:t,children:n})}},25409:(e,r,t)=>{"use strict";t.d(r,{p:()=>i});var s=t(45512),a=t(58009);let i=t.n(a)().forwardRef(({className:e,type:r,...t},a)=>(0,s.jsx)("input",{type:r,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",ref:a,...t}));i.displayName="Input"},47699:(e,r,t)=>{"use strict";t.d(r,{J:()=>d});var s=t(45512),a=t(58009),i=t(92405),o=t(21643),n=t(59462);let l=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)(i.b,{ref:t,className:(0,n.cn)(l(),e),...r}));d.displayName=i.b.displayName},22571:(e,r,t)=>{"use strict";t.d(r,{l6:()=>n,gC:()=>d,eb:()=>c,bq:()=>l,yv:()=>u});var s=t(45512),a=t(58009),i=t(59462);let o=(0,t(41680).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),n=a.forwardRef(({className:e,children:r,...t},a)=>(0,s.jsx)("div",{className:(0,i.cn)("relative",e),ref:a,...t,children:r}));n.displayName="Select";let l=a.forwardRef(({className:e,children:r,...t},a)=>(0,s.jsxs)("button",{className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t,children:[(0,s.jsx)(u,{}),(0,s.jsx)(o,{className:"ml-2 h-4 w-4 opacity-50"})]}));l.displayName="SelectTrigger";let d=a.forwardRef(({className:e,children:r,...t},a)=>(0,s.jsx)("div",{className:(0,i.cn)("absolute z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md",e),ref:a,...t,children:r}));d.displayName="SelectContent";let c=a.forwardRef(({className:e,children:r,value:t,...a},o)=>(0,s.jsxs)("div",{className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground",e),ref:o,...a,"data-value":t,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"}),r]}));c.displayName="SelectItem";let u=a.forwardRef(({className:e,placeholder:r,children:t,...a},o)=>(0,s.jsx)("span",{className:(0,i.cn)("ml-2 block truncate",e),ref:o,...a,children:t||r}));u.displayName="SelectValue"},81615:(e,r,t)=>{"use strict";t.d(r,{L:()=>n,r:()=>o});var s=t(45512);t(58009);var a=t(79334),i=t(29190);function o(e){return function(r){let{user:t,loading:o}=(0,i.Z)();return((0,a.useRouter)(),o)?(0,s.jsx)("div",{children:"Loading..."}):t?(0,s.jsx)(e,{...r}):null}}function n(e){return function(r){let{user:t,loading:o}=(0,i.Z)();return((0,a.useRouter)(),o)?(0,s.jsx)("div",{children:"Loading..."}):t?null:(0,s.jsx)(e,{...r})}}},84906:(e,r,t)=>{"use strict";t.d(r,{k:()=>o,w:()=>i});var s=t(17656),a=t(14487);async function i(e){try{if(!e)throw Error("User ID is required");let r=(0,s.rJ)(a.db,"users"),t=(0,s.P)(r,(0,s._M)("uid","==",e)),i=await (0,s.GG)(t);if(i.empty)return null;let o=i.docs[0],n=o.data();return{id:o.id,...n,createdAt:n.createdAt.toDate()}}catch(e){if(console.error("Error getting user:",e),e instanceof Error)throw Error(e.message);throw Error("Failed to get user profile")}}async function o(e){try{if(await i(e.uid))throw Error("User profile already exists");let r={...e,totalDistance:0,totalPrayers:0,createdAt:s.Dc.now()};return{id:(await (0,s.gS)((0,s.rJ)(a.db,"users"),r)).id,...r,createdAt:new Date}}catch(e){if(console.error("Error creating user:",e),e instanceof Error)throw Error(e.message);throw Error("Failed to create user profile")}}},19097:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/bay/Desktop/project/KR1/app/register/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bay/Desktop/project/KR1/app/register/layout.tsx","default")},17358:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/bay/Desktop/project/KR1/app/register/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bay/Desktop/project/KR1/app/register/page.tsx","default")}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[994,638,218,310,375],()=>t(95595));module.exports=s})();